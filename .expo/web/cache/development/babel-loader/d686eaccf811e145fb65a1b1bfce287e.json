{"ast":null,"code":"import { useContext, useLayoutEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ExpenseForm from \"../components/ManageExpense/ExpenseForm\";\nimport Button from \"../components/UI/Button\";\nimport IconButton from \"../components/UI/IconButton\";\nimport { GlobalStyles } from \"../constants/styles\";\nimport { ExpensesContext } from \"../store/expenses-context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction Agregar(_ref) {\n  var _route$params;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var expensesCtx = useContext(ExpensesContext);\n  var editedExpenseId = (_route$params = route.params) == null ? void 0 : _route$params.expenseId;\n  var isEditing = !!editedExpenseId;\n  var selectedExpense = expensesCtx.expenses.find(function (expense) {\n    return expense.id === editedExpenseId;\n  });\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      title: isEditing ? 'Edit Expense' : 'Add Expense'\n    });\n  }, [navigation, isEditing]);\n\n  function deleteExpenseHandler() {\n    expensesCtx.deleteExpense(editedExpenseId);\n    navigation.goBack();\n  }\n\n  function cancelHandler() {\n    navigation.goBack();\n  }\n\n  function confirmHandler(expenseData) {\n    if (isEditing) {\n      expensesCtx.updateExpense(editedExpenseId, expenseData);\n    } else {\n      expensesCtx.addExpense(expenseData);\n    }\n\n    navigation.goBack();\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(ExpenseForm, {\n      submitButtonLabel: isEditing ? 'Update' : 'Add',\n      onSubmit: confirmHandler,\n      onCancel: cancelHandler,\n      defaultValues: selectedExpense\n    }), isEditing && _jsx(View, {\n      style: styles.deleteContainer,\n      children: _jsx(IconButton, {\n        icon: \"trash\",\n        color: GlobalStyles.colors.error500,\n        size: 36,\n        onPress: deleteExpenseHandler\n      })\n    })]\n  });\n}\n\nexport default Agregar;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 24,\n    backgroundColor: GlobalStyles.colors.primary800\n  },\n  deleteContainer: {\n    marginTop: 16,\n    paddingTop: 8,\n    borderTopWidth: 2,\n    borderTopColor: GlobalStyles.colors.primary200,\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["D:/react-native/xrevi/screens/Agregar.js"],"names":["useContext","useLayoutEffect","ExpenseForm","Button","IconButton","GlobalStyles","ExpensesContext","Agregar","route","navigation","expensesCtx","editedExpenseId","params","expenseId","isEditing","selectedExpense","expenses","find","expense","id","setOptions","title","deleteExpenseHandler","deleteExpense","goBack","cancelHandler","confirmHandler","expenseData","updateExpense","addExpense","styles","container","deleteContainer","colors","error500","StyleSheet","create","flex","padding","backgroundColor","primary800","marginTop","paddingTop","borderTopWidth","borderTopColor","primary200","alignItems"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,eAArB,QAA4C,OAA5C;;;;AAGA,OAAOC,WAAP;AACA,OAAOC,MAAP;AACA,OAAOC,UAAP;AACA,SAASC,YAAT;AACA,SAASC,eAAT;;;;AAEA,SAASC,OAAT,OAAwC;AAAA;;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAdC,UAAc,QAAdA,UAAc;AACtC,MAAMC,WAAW,GAAGV,UAAU,CAACM,eAAD,CAA9B;AAEA,MAAMK,eAAe,oBAAGH,KAAK,CAACI,MAAT,qBAAG,cAAcC,SAAtC;AACA,MAAMC,SAAS,GAAG,CAAC,CAACH,eAApB;AAEA,MAAMI,eAAe,GAAGL,WAAW,CAACM,QAAZ,CAAqBC,IAArB,CACtB,UAACC,OAAD;AAAA,WAAaA,OAAO,CAACC,EAAR,KAAeR,eAA5B;AAAA,GADsB,CAAxB;AAIAV,EAAAA,eAAe,CAAC,YAAM;AACpBQ,IAAAA,UAAU,CAACW,UAAX,CAAsB;AACpBC,MAAAA,KAAK,EAAEP,SAAS,GAAG,cAAH,GAAoB;AADhB,KAAtB;AAGD,GAJc,EAIZ,CAACL,UAAD,EAAaK,SAAb,CAJY,CAAf;;AAMA,WAASQ,oBAAT,GAAgC;AAC9BZ,IAAAA,WAAW,CAACa,aAAZ,CAA0BZ,eAA1B;AACAF,IAAAA,UAAU,CAACe,MAAX;AACD;;AAED,WAASC,aAAT,GAAyB;AACvBhB,IAAAA,UAAU,CAACe,MAAX;AACD;;AAED,WAASE,cAAT,CAAwBC,WAAxB,EAAqC;AACnC,QAAIb,SAAJ,EAAe;AACbJ,MAAAA,WAAW,CAACkB,aAAZ,CAA0BjB,eAA1B,EAA2CgB,WAA3C;AACD,KAFD,MAEO;AACLjB,MAAAA,WAAW,CAACmB,UAAZ,CAAuBF,WAAvB;AACD;;AACDlB,IAAAA,UAAU,CAACe,MAAX;AACD;;AAED,SACE,MAAC,IAAD;AAAM,IAAA,KAAK,EAAEM,MAAM,CAACC,SAApB;AAAA,eACE,KAAC,WAAD;AACE,MAAA,iBAAiB,EAAEjB,SAAS,GAAG,QAAH,GAAc,KAD5C;AAEE,MAAA,QAAQ,EAAEY,cAFZ;AAGE,MAAA,QAAQ,EAAED,aAHZ;AAIE,MAAA,aAAa,EAAEV;AAJjB,MADF,EAOGD,SAAS,IACR,KAAC,IAAD;AAAM,MAAA,KAAK,EAAEgB,MAAM,CAACE,eAApB;AAAA,gBACE,KAAC,UAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,KAAK,EAAE3B,YAAY,CAAC4B,MAAb,CAAoBC,QAF7B;AAGE,QAAA,IAAI,EAAE,EAHR;AAIE,QAAA,OAAO,EAAEZ;AAJX;AADF,MARJ;AAAA,IADF;AAoBD;;AAED,eAAef,OAAf;AAEA,IAAMuB,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;AAC/BL,EAAAA,SAAS,EAAE;AACTM,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,OAAO,EAAE,EAFA;AAGTC,IAAAA,eAAe,EAAElC,YAAY,CAAC4B,MAAb,CAAoBO;AAH5B,GADoB;AAM/BR,EAAAA,eAAe,EAAE;AACfS,IAAAA,SAAS,EAAE,EADI;AAEfC,IAAAA,UAAU,EAAE,CAFG;AAGfC,IAAAA,cAAc,EAAE,CAHD;AAIfC,IAAAA,cAAc,EAAEvC,YAAY,CAAC4B,MAAb,CAAoBY,UAJrB;AAKfC,IAAAA,UAAU,EAAE;AALG;AANc,CAAlB,CAAf","sourcesContent":["import { useContext, useLayoutEffect } from 'react';\nimport { StyleSheet, TextInput, View } from 'react-native';\n\nimport ExpenseForm from '../components/ManageExpense/ExpenseForm';\nimport Button from '../components/UI/Button';\nimport IconButton from '../components/UI/IconButton';\nimport { GlobalStyles } from '../constants/styles';\nimport { ExpensesContext } from '../store/expenses-context';\n\nfunction Agregar({ route, navigation }) {\n  const expensesCtx = useContext(ExpensesContext);\n\n  const editedExpenseId = route.params?.expenseId;\n  const isEditing = !!editedExpenseId;\n\n  const selectedExpense = expensesCtx.expenses.find(\n    (expense) => expense.id === editedExpenseId\n  );\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      title: isEditing ? 'Edit Expense' : 'Add Expense',\n    });\n  }, [navigation, isEditing]);\n\n  function deleteExpenseHandler() {\n    expensesCtx.deleteExpense(editedExpenseId);\n    navigation.goBack();\n  }\n\n  function cancelHandler() {\n    navigation.goBack();\n  }\n\n  function confirmHandler(expenseData) {\n    if (isEditing) {\n      expensesCtx.updateExpense(editedExpenseId, expenseData);\n    } else {\n      expensesCtx.addExpense(expenseData);\n    }\n    navigation.goBack();\n  }\n\n  return (\n    <View style={styles.container}>\n      <ExpenseForm\n        submitButtonLabel={isEditing ? 'Update' : 'Add'}\n        onSubmit={confirmHandler}\n        onCancel={cancelHandler}\n        defaultValues={selectedExpense}\n      />\n      {isEditing && (\n        <View style={styles.deleteContainer}>\n          <IconButton\n            icon=\"trash\"\n            color={GlobalStyles.colors.error500}\n            size={36}\n            onPress={deleteExpenseHandler}\n          />\n        </View>\n      )}\n    </View>\n  );\n}\n\nexport default Agregar;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 24,\n    backgroundColor: GlobalStyles.colors.primary800,\n  },\n  deleteContainer: {\n    marginTop: 16,\n    paddingTop: 8,\n    borderTopWidth: 2,\n    borderTopColor: GlobalStyles.colors.primary200,\n    alignItems: 'center',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}